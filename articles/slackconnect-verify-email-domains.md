---
title: "特定のメールドメイン宛のSlackコネクトの接続先を制限する"
emoji: "🤝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [Slack,Security]
published: false
---

# はじめに
Slackコネクトは、異なるワークスペース間でチャンネルを共有したりDMをする機能です。
便利な一方、コネクト先のワークスペースは招待されたユーザーが選択する仕組みになっており、誤って選択してしまうと関係のないワークスペースとチャンネルを共有してしまうリスクがありました。もし誤って接続してしまうと、チャンネルの過去ログやファイルが閲覧できてしまうので状況によっては大きなリスクになり得ます。

上記リスクへの対策として本記事では特定のメールドメインのアカウントにおいてSlackコネクトの接続先を制限する機能を紹介します。

# 必要なライセンス・権限
- Slack
    - ライセンス：プロ以上
    - 権限：オーナー以上
- ドメインのDNSを設定できる権限

# 手順
1. 管理画面から「設定と権限」>「権限」>「Slack コネクト用のメールドメイン」を開きます
2. ドメインを追加からドメインを入力します。ワイルドカードドメインの場合は、名前の前にアスタリスク（*）を付加してください。
3. ドメイン入力後、txtレコードが生成されます
4. DNS設定で上記txtレコードを追加します
5. 3の画面に戻り「次へ」を押します。一定時間経過が必要になる場合があります。
6. トグルを有効にして、設定完了です。

認証が完了すると次回からSlackワークスペースのアイコンが表示されるようになり、コネクトを送付する側にとっても親切になりました。

![](/images/slackconnect-verify-email-domains/slack-mail-domains-success.png)



# 注意・補足
:::message
- ドメインは1つのワークスペースにしか登録できません。複数のワークスペースに登録できないので注意してください（EnterpriseGrildを除く）
- 設定していないドメインのアカウントは引き続き制限なくコネクト先を選択できます
    - 設定したドメインのみSlackコネクトを承認できるという機能ではないので注意してください。
:::
# おわりに
SlackコネクトはSlackを利用している企業間では非常に便利な機能であるので、ユーザーにリスクが発生しない環境を提供しましょう。